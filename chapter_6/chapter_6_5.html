<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <title>Bouncing 2</title>
        <link rel = "stylesheet" href = "../css_file/style.css">
    </head>
    <body>
        <canvas id = "canvas" width = "400" height = "400"></canvas>
        <script src = "../utils/utils.js"></script>
        <script src = "../js_file/ball.js"></script>
        <script>
            window.onload = function(){
                var canvas = document.getElementById('canvas'),
                    context = canvas.getContext('2d')
                    ball = new Ball()
                    vx = Math.random()*10-5,
                    vy = Math.random()*10-5,
                    bounce = -0.7
                ball.x += vx;
                ball.y += vy;

                (function drawFrame(){
                    window.requestAnimationFrame(drawFrame,canvas);
                    context.clearRect(0,0,canvas.width,canvas.height);

                    var left = 0,
                        right = canvas.width,
                        top_ = 0,
                        bottom = canvas.height;
                    ball.x += vx;
                    ball.y += vy;

                if(ball.x + ball.radius > right){
                    ball.x = right-ball.radius
                    vx *= bounce;
                }else if(ball.x - ball.radius < left){
                    ball.x = left + ball.radius;
                    vx *= bounce
                }
                if(ball.y + ball.radius > bottom){
                    ball.y = bottom - ball.radius;
                    vy *= bounce;
                }else if (ball.y-ball.radius < top_){
                    ball.y = top_+ ball.radius;
                    vy *= bounce;
                }
                ball.draw(context);
                }())
            }
        </script>
    </body>
</html>