<!DOCTYPE html>

<html>
    <head>
        <meta charset = 'utf-8'>
        <title>Ease to Mouse</title>
        <link rel = 'sheetstyle' href = '../css_file/style.css'>
    </head>
    <body>
        <canvas id = 'canvas' width = '800' height = '800'></canvas>
        <script src = '../utils/utils.js'></script>
        <script src = '../js_file/ball.js'></script>
        <script src = '../js_file/arrow.js'></script>
        <script>
        window.onload = function(){
            var canvas = document.getElementById('canvas'),
                context = canvas.getContext('2d'),
                arrow = new Arrow(),
                mouse = utils.captureMouse(canvas),
                rotation = Math.PI/2,
                easing = 0.05;

            (function drawFram(){
                window.requestAnimationFrame(drawFram,canvas);
                context.clearRect(0,0,canvas.width,canvas.height);

                targetrotation = Math.atan(mouse.y/mouse.x);

                arrow.rotation += (targetrotation-rotation)*easing;
                arrow.x = canvas.width/2;
                arrow.y = canvas.height/2;

                arrow.draw(context);
            }());

        };
        
        </script>

    </body>
</html>