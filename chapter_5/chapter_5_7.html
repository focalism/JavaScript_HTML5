<!DOCTYPE html>

<html>
    <head>
        <meta charset = "utf-8">
        <title>"acceleration 3"</title>
        <link rel = "stylesheet" href = "../css_file/style.css">
    </head>
    <body>
        <canvas Id = "canvas" width = "400" height = "400"></canvas>
        <script src = "../utils/utils.js"></script>
        <script src = "../js_file/ball.js"></script>
        <script>
            window.onload = function(){
                var canvas = document.getElementById('canvas'),
                    context = canvas.getContext('2d'),
                    ball = new Ball(),
                    
                    vx = 0;
                    vy = 0;
                    ax = 0;
                    ay = 0
                ball.x = canvas.width/2; 
                ball.y = canvas.height/2;

                window.addEventListener('keydown',function(event){
                    if(event.keyCode === 65){ax = -0.1}
                    else if(event.keyCode === 68){ax = 0.1}
                    else if(event.keyCode === 87){ay = -0.1}
                    else if(event.keyCode === 83){ay = 0.1}
                },false)

                window.addEventListener('keyup',function(){
                    ax = 0;
                    ay = 0;
                },false);

                (function drawFrame(){
                    window.requestAnimationFrame(drawFrame,canvas)
                    context.clearRect(0,0,canvas.width,canvas.height)

                    vx += ax
                    ball.x += vx
                    vy += ay
                    ball.y += vy
                    ball.draw(context)
                }())
            }
        </script>
    </body>
</html>